<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<script>
    // 자바스크립트 객체의 특징
    let = person = {
        name : '홍길동',
        age : 30
    };
    // 객체에 들어있는 내용을 출력하는 방법
    document.write('person.name : ', person.name, '<br>');
    document.write('person.age : ', person.age, '<br>');
    document.write('<hr>');
    document.write("person['name'] : ", person['name'], '<br>');
    document.write('<hr>');
    // 프로퍼티 추가하기
    // 없는 프로퍼티를 사용하려고 하면 추가가 된다.
    person.bt = 'AB';
    document.write('person.bt : ', person.bt, '<br>');
    document.write('person[\'bt\'] : ', person['bt'], '<br>');

    // 객체에서 프로퍼티 삭제하기
    // delete연산자를 사용하면 object의 프로퍼티를 삭제할 수 있다.
    // 이때 피연산자는 프로퍼티의 key여야 한다.
    delete person.bt;
    document.write("person['bt'] : ", person['bt'], '<br>');
    document.write('<hr>');
    // 프로퍼티가 객체 속해있는지 확인하는 법
    // in 연산자를 사용한다.
    document.write('name in person : ', 'name' in person, '<br>');
    document.write('address in person : ', 'address' in person, '<br>');
    document.write('<hr>');

    // for-in문을 사용하면 객체(배열 포함)에 포함된 모든 프로퍼티에 대해
    // 루프를 수행할 수 있다. 단, 순서는 보장되지 않는다.
    for(i in person) {
        document.write(`${i} = ${person[i]}<br>`);
    }
    document.write('<hr>');
    // 새로운 객체에 기존 객체를 참조시킬 수 있다.
    // 주소값을 복사해오기 때문에 person의 속성값을 변경하면 같이 바뀐다.
    let person2 = person;

    person.age = 40;

    document.write('person2.age : ', person[2], '<br>');
    document.write('<hr>');
    // 객체 안에 객체가 들어갈 수 있다.
    let circle = {
        center : {x : 1.0, y : 2.0},
        radius : 2.5
    }
    
    document.write(`${circle.center.x}, ${circle.center.y}<br>`);
    document.write(`radius : ${circle.radius}<br>`);
    document.write(`<hr>`);

    // 프로퍼티에 함수가 들어갈 수 있다.
    // 객체 안에 들어있는 함수를 메서드라고 한다.
    let person3 = {
        name : '홍길동',
        age : 30,
        getInfo : function() {
            document.write(`이름 : ${this.name}<br>나이 : ${this.age}<br>`);
        }
    }

    // 메서드의 호출
    person3.getInfo();

    // 프로퍼티 추가
    person.name = 'hong'
    person.gender = 'mail'
    person.sayHello = () => console.log("Hi! my name is ", this.name);

    document.write(person.name, '<br>');
    document.write(person.sayHello());

    // 생성자 함수를 사용하는법
    // 객체리터럴 방식이나 Object 방식으로 객체를 생성하는 경우
    // 프로퍼티 값만 다른 여러 개의 객체를 생성할 때 불편하다.
    // 동일한 값을 갖는 객체임에도 불구하고 매번 같은 프로퍼티를 기술해야 한다.
    // 생성자 함수를 사용하면 마치 객체를 사용하기 위한 클래스 처럼 사용하여
    // 프로퍼티가 동일한 여러 객체를 간편하게 생성할 수 있다.

    // 생성자 함수의 이름은 일반적으로 대문자로 시작한다.
    // (함수중에서도 생성자라는것을 인식하는데 도움이 된다.)
    // this는 생성자 함수가 생성할 객체를 가리킨다.
    // this에 바인딩되어있는 프로퍼티와 메서드는 기본적으로 public이므로
    // 외부에서 참조가 가능하다.
    // 생성자 함수에서 선언된 일반변수는 private이기 때문에 외부에서 접근이 불가능하다.
    function Person(name, gender) {
        let married = true; // private
        this.name = name, // public
        this.gender = gender, // public
        this.sayHello = () => console.log("Hi! my name is ", this.name),
        this.getMarried
    }

    let person4 = new Person('Lee', 'male');
    let person5 = new Person('Kim', 'female');

    console.log(person4);
    console.log(person5);

</script>
<body>
    
</body>
</html>